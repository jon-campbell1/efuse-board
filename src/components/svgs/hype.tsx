import React, { useEffect, useState } from 'react';
const HypeIcon = ({ active, clicked, onClick }: {active: boolean, clicked: boolean, onClick: () => void}) => {
    const activeState = active ? 'active' : 'inactive';
    const [state, setState] = useState(activeState);

    useEffect(() => {
        setState(activeState);
    }, [active])

    const currentState = () => {
        if (clicked) {
            return (
                <>
                    <rect width="30" height="30" rx="15" fill="#F44900"/>
                    <path d="M15 7C11.4688 10.1875 9 13.9062 9 16.4062C9 20.3125 11.4375 23 15 23C18.5312 23 21 20.3125 21 16.4062C21 13.9062 18.4688 10.1562 15 7ZM15 21.5C12.2812 21.5 10.5 19.4688 10.5 16.4062C10.5 14.9688 11.9062 12.125 14.9688 9.09375C17.6875 11.75 19.5 14.6562 19.5 16.4062C19.5 19.4688 17.6875 21.5 15 21.5ZM16.4062 14.5C15.7812 13.9688 15.1875 13.4688 15.1875 12.6875C15.1875 12.5938 15.0938 12.5312 15.0625 12.5312C15 12.5 14.875 12.5 14.8125 12.5938C13.0938 14.9375 15.75 14.75 15.75 16.4375C15.75 17.1875 15.1562 17.75 14.4375 17.75C13.6875 17.75 13.125 17.1875 13.125 16.4375V15.5C13.0938 15.4062 13.0312 15.3438 12.9375 15.3438C12.875 15.3438 12.8125 15.3438 12.7812 15.375C12.5938 15.5625 12 16.2188 12 17.25C12 18.7812 13.3438 20 15 20C16.625 20 18 18.7812 18 17.25C18 15.875 17.1875 15.1875 16.4062 14.5Z" fill="white" fill-opacity="0.96"/>
                </>
            )
        }
        switch (state) {
            case 'inactive':
                return (
                    <path d="M6 0C2.46875 3.1875 0 6.90625 0 9.40625C0 13.3125 2.4375 16 6 16C9.53125 16 12 13.3125 12 9.40625C12 6.90625 9.46875 3.15625 6 0ZM6 14.5C3.28125 14.5 1.5 12.4688 1.5 9.40625C1.5 7.96875 2.90625 5.125 5.96875 2.09375C8.6875 4.75 10.5 7.65625 10.5 9.40625C10.5 12.4688 8.6875 14.5 6 14.5ZM7.40625 7.5C6.78125 6.96875 6.1875 6.46875 6.1875 5.6875C6.1875 5.59375 6.09375 5.53125 6.0625 5.53125C6 5.5 5.875 5.5 5.8125 5.59375C4.09375 7.9375 6.75 7.75 6.75 9.4375C6.75 10.1875 6.15625 10.75 5.4375 10.75C4.6875 10.75 4.125 10.1875 4.125 9.4375V8.5C4.09375 8.40625 4.03125 8.34375 3.9375 8.34375C3.875 8.34375 3.8125 8.34375 3.78125 8.375C3.59375 8.5625 3 9.21875 3 10.25C3 11.7812 4.34375 13 6 13C7.625 13 9 11.7812 9 10.25C9 8.875 8.1875 8.1875 7.40625 7.5Z" fill="#12151D" fill-opacity="0.6"/>
                );
            case 'active':
                return (
                    <path d="M6 0C2.46875 3.1875 0 6.90625 0 9.40625C0 13.3125 2.4375 16 6 16C9.53125 16 12 13.3125 12 9.40625C12 6.90625 9.46875 3.15625 6 0ZM6 14.5C3.28125 14.5 1.5 12.4688 1.5 9.40625C1.5 7.96875 2.90625 5.125 5.96875 2.09375C8.6875 4.75 10.5 7.65625 10.5 9.40625C10.5 12.4688 8.6875 14.5 6 14.5ZM7.40625 7.5C6.78125 6.96875 6.1875 6.46875 6.1875 5.6875C6.1875 5.59375 6.09375 5.53125 6.0625 5.53125C6 5.5 5.875 5.5 5.8125 5.59375C4.09375 7.9375 6.75 7.75 6.75 9.4375C6.75 10.1875 6.15625 10.75 5.4375 10.75C4.6875 10.75 4.125 10.1875 4.125 9.4375V8.5C4.09375 8.40625 4.03125 8.34375 3.9375 8.34375C3.875 8.34375 3.8125 8.34375 3.78125 8.375C3.59375 8.5625 3 9.21875 3 10.25C3 11.7812 4.34375 13 6 13C7.625 13 9 11.7812 9 10.25C9 8.875 8.1875 8.1875 7.40625 7.5Z" fill="#F44900"/> 
                );
            case 'hover': 
                return (
                    <>
                        <rect width="30" height="30" rx="15" fill="#F44900" fill-opacity="0.3"/>
                        <path d="M15 7C11.4688 10.1875 9 13.9062 9 16.4062C9 20.3125 11.4375 23 15 23C18.5312 23 21 20.3125 21 16.4062C21 13.9062 18.4688 10.1562 15 7ZM15 21.5C12.2812 21.5 10.5 19.4688 10.5 16.4062C10.5 14.9688 11.9062 12.125 14.9688 9.09375C17.6875 11.75 19.5 14.6562 19.5 16.4062C19.5 19.4688 17.6875 21.5 15 21.5ZM16.4062 14.5C15.7812 13.9688 15.1875 13.4688 15.1875 12.6875C15.1875 12.5938 15.0938 12.5312 15.0625 12.5312C15 12.5 14.875 12.5 14.8125 12.5938C13.0938 14.9375 15.75 14.75 15.75 16.4375C15.75 17.1875 15.1562 17.75 14.4375 17.75C13.6875 17.75 13.125 17.1875 13.125 16.4375V15.5C13.0938 15.4062 13.0312 15.3438 12.9375 15.3438C12.875 15.3438 12.8125 15.3438 12.7812 15.375C12.5938 15.5625 12 16.2188 12 17.25C12 18.7812 13.3438 20 15 20C16.625 20 18 18.7812 18 17.25C18 15.875 17.1875 15.1875 16.4062 14.5Z" fill="#F44900"/>
                    </>
                );
        }
    }

    return (
    <svg 
        width="30" height="30"
        style={{
            position: 'relative', 
            left: state === 'hover' || clicked ? -9 : 0, 
            top: state === 'hover' || clicked ? -7 : 0
        }}
        onMouseOver={() => setState('hover')} 
        onMouseOut={() => setState(active ? 'active' : 'inactive')} 
        onClick={onClick} 
        fill="none" 
        xmlns="http://www.w3.org/2000/svg">
        {
           currentState()
        }
    </svg>
    )
}

export default HypeIcon;

